<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ğŸ’Œ A Secret Message For You</title>
<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,600;1,300;1,400&family=Petit+Formal+Script&family=Lato:wght@300;400&display=swap" rel="stylesheet">
<style>
  *, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }

  :root {
    --rose:  #c8102e;
    --blush: #f7cac9;
    --cream: #fdf6ec;
    --gold:  #c9a84c;
    --dark:  #0d0005;
  }

  html, body {
    height: 100%; overflow: hidden;
    font-family: 'Cormorant Garamond', serif;
    cursor: default;
  }

  /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     BACKGROUND â€” simple deep gradient
  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
  body {
    background: radial-gradient(ellipse at 50% 40%, #2a0010 0%, #0d0005 70%);
  }

  /* subtle soft hearts pattern overlay */
  body::before {
    content: '';
    position: fixed; inset: 0;
    background-image:
      radial-gradient(circle, rgba(200,16,46,0.06) 1px, transparent 1px);
    background-size: 40px 40px;
    pointer-events: none;
  }

  /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     FALLING PETALS CANVAS
  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
  #canvas {
    position: fixed; inset: 0;
    pointer-events: none; z-index: 0;
  }

  /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     MUSIC BUTTON
  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
  #musicBtn {
    position: fixed; top: 20px; right: 20px;
    width: 42px; height: 42px;
    background: rgba(200,16,46,0.25);
    border: 1px solid rgba(200,16,46,0.4);
    border-radius: 50%;
    display: flex; align-items: center; justify-content: center;
    font-size: 18px; cursor: pointer; z-index: 50;
    backdrop-filter: blur(6px);
    transition: background 0.3s, transform 0.2s;
    user-select: none;
  }
  #musicBtn:hover { background: rgba(200,16,46,0.45); transform: scale(1.1); }
  #musicBtn.playing { animation: spin 4s linear infinite; }
  @keyframes spin { to { transform: rotate(360deg); } }

  /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     MAIN STAGE
  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
  .stage {
    position: fixed; inset: 0;
    display: flex; align-items: center; justify-content: center;
    z-index: 1;
  }

  /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     ENVELOPE â€” shown first, hidden on open
  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
  #envelope {
    width: 340px; height: 230px;
    position: relative;
    cursor: pointer;
    animation: floatEnv 3.5s ease-in-out infinite;
    transition: opacity 0.5s, transform 0.5s;
    filter: drop-shadow(0 24px 48px rgba(200,16,46,0.3));
  }
  #envelope:hover { filter: drop-shadow(0 32px 60px rgba(200,16,46,0.5)); }

  @keyframes floatEnv {
    0%,100% { transform: translateY(0); }
    50%      { transform: translateY(-14px); }
  }

  /* envelope base */
  .env-base {
    position: absolute; inset: 0;
    background: linear-gradient(170deg, #fff3f3 0%, #ffd8d4 100%);
    border-radius: 6px 6px 16px 16px;
    border: 1px solid rgba(200,16,46,0.15);
    overflow: hidden;
  }

  /* V lines on base */
  .env-base::before, .env-base::after {
    content: ''; position: absolute; bottom: 0;
    width: 2px; height: 280px;
    background: rgba(200,16,46,0.08);
    transform-origin: bottom center;
  }
  .env-base::before { left: 50%; transform: rotate(-47deg); }
  .env-base::after  { left: 50%; transform: rotate(47deg); }

  /* top flap â€” triangle pointing DOWN (closed = covering top half) */
  .env-flap {
    position: absolute;
    top: 0; left: 0;
    width: 0; height: 0;
    border-left:  170px solid transparent;
    border-right: 170px solid transparent;
    border-top:   135px solid #f6c4c0;
    transform-origin: top center;
    transition: transform 0.9s cubic-bezier(0.6,-0.3,0.3,1.3);
    z-index: 2;
    filter: drop-shadow(0 4px 6px rgba(200,16,46,0.1));
  }
  .env-flap.open { transform: perspective(500px) rotateX(180deg); }

  /* seal */
  .env-seal {
    position: absolute; top: 55px; left: 50%;
    transform: translateX(-50%);
    width: 52px; height: 52px;
    background: radial-gradient(circle, #e8193c 0%, #7a0000 100%);
    border-radius: 50%;
    display: flex; align-items: center; justify-content: center;
    font-size: 22px; z-index: 3;
    box-shadow: 0 4px 20px rgba(200,16,46,0.6);
    transition: opacity 0.35s, transform 0.35s;
  }
  .env-seal.gone { opacity: 0; transform: translateX(-50%) scale(0) rotate(20deg); }

  /* envelope gone state */
  #envelope.gone {
    opacity: 0;
    transform: translateY(30px) scale(0.9);
    pointer-events: none;
  }

  /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     LETTER â€” hidden initially, shown after envelope disappears
  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
  #letter {
    position: absolute;          /* same position as envelope */
    width: 340px;
    background: var(--cream);
    border-radius: 5px;
    padding: 32px 30px 28px;
    border: 1px solid rgba(201,168,76,0.2);
    box-shadow: 0 20px 60px rgba(0,0,0,0.35), 0 4px 16px rgba(200,16,46,0.1);
    z-index: 10;
    /* starts invisible and slightly below */
    opacity: 0;
    transform: translateY(40px) scale(0.95);
    transition: opacity 0.8s ease, transform 0.8s ease;
    pointer-events: none;
  }

  #letter.visible {
    opacity: 1;
    transform: translateY(0) scale(1);
    pointer-events: all;
  }

  #letter::before {
    content: '';
    position: absolute; top: 0; left: 0; right: 0; height: 3px;
    background: linear-gradient(90deg, var(--rose), var(--gold), var(--rose));
    border-radius: 5px 5px 0 0;
  }

  .letter-ruled {
    position: absolute; inset: 50px 20px 20px;
    background-image: repeating-linear-gradient(
      transparent, transparent 27px,
      rgba(201,168,76,0.12) 27px, rgba(201,168,76,0.12) 28px
    );
    pointer-events: none;
  }

  .letter-content { position: relative; z-index: 1; }

  .letter-date {
    font-family: 'Lato', sans-serif; font-weight: 300;
    font-size: 10px; letter-spacing: 3px; text-transform: uppercase;
    color: var(--gold); margin-bottom: 14px;
  }
  .letter-salutation {
    font-family: 'Petit Formal Script', cursive;
    font-size: 24px; color: var(--rose);
    margin-bottom: 14px; line-height: 1.4;
  }
  .letter-body {
    font-size: 15px; line-height: 1.9;
    color: #3a1a1a; font-weight: 300; font-style: italic;
    margin-bottom: 22px;
  }
  .letter-signature {
    font-family: 'Petit Formal Script', cursive;
    font-size: 21px; color: var(--rose); text-align: right;
  }

  /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     PROMPT
  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
  #prompt {
    position: fixed; bottom: 48px; left: 50%;
    transform: translateX(-50%);
    color: rgba(247,202,201,0.5);
    font-size: 11px; letter-spacing: 5px; text-transform: uppercase;
    font-family: 'Lato', sans-serif; font-weight: 300;
    white-space: nowrap; z-index: 10;
    animation: pulse 2.2s ease-in-out infinite;
    transition: opacity 0.6s;
  }
  @keyframes pulse { 0%,100%{opacity:0.3} 50%{opacity:0.9} }

  /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     YES / NO BUTTONS
  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
  #buttons {
    position: fixed; bottom: 44px; left: 50%;
    transform: translateX(-50%);
    display: flex; gap: 16px; z-index: 20;
    opacity: 0; pointer-events: none;
    transition: opacity 0.7s; white-space: nowrap;
  }
  #buttons.show { opacity: 1; pointer-events: all; }

  .btn {
    padding: 13px 30px; border: none; border-radius: 60px;
    font-family: 'Cormorant Garamond', serif;
    font-size: 16px; font-style: italic;
    cursor: pointer; letter-spacing: 1px;
  }
  .btn-yes {
    background: linear-gradient(135deg, #c8102e, #8b0000);
    color: white;
    box-shadow: 0 8px 26px rgba(200,16,46,0.45);
    transition: transform 0.3s, box-shadow 0.3s;
  }
  .btn-yes:hover { transform: scale(1.08) translateY(-3px); box-shadow: 0 14px 36px rgba(200,16,46,0.6); }
  .btn-no {
    background: rgba(255,255,255,0.07);
    color: rgba(247,202,201,0.65);
    border: 1px solid rgba(247,202,201,0.2);
    backdrop-filter: blur(8px); position: relative;
    transition: transform 0.2s cubic-bezier(0.34,1.56,0.64,1), opacity 0.3s;
  }

  /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     CELEBRATION
  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
  #celebration {
    position: fixed; inset: 0;
    display: flex; flex-direction: column;
    align-items: center; justify-content: center;
    z-index: 100; opacity: 0; pointer-events: none;
    transition: opacity 1s;
    background: radial-gradient(ellipse at center, rgba(13,0,5,0.93) 0%, rgba(13,0,5,0.98) 100%);
  }
  #celebration.show { opacity: 1; pointer-events: all; }

  .big-heart {
    font-size: 96px; margin-bottom: 26px;
    animation: hb 1.2s ease-in-out infinite;
    filter: drop-shadow(0 0 30px rgba(200,16,46,0.9));
  }

  .celeb-photo {
  width: 160px;
  height: 160px;
  border-radius: 50%;
  overflow: hidden;
  border: 3px solid var(--rose);
  box-shadow: 0 0 30px rgba(200,16,46,0.6), 0 0 60px rgba(200,16,46,0.3);
  margin-bottom: 20px;
  animation: photoGlow 2s ease-in-out infinite alternate;
}

.celeb-photo img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

@keyframes photoGlow {
  from { box-shadow: 0 0 20px rgba(200,16,46,0.5), 0 0 40px rgba(200,16,46,0.2); }
  to   { box-shadow: 0 0 40px rgba(200,16,46,0.9), 0 0 80px rgba(200,16,46,0.5); }
}


  @keyframes hb {
    0%,100%{transform:scale(1)} 14%{transform:scale(1.2)}
    28%{transform:scale(1)} 42%{transform:scale(1.12)}
  }
  .celeb-title {
    font-family: 'Petit Formal Script', cursive;
    font-size: 56px; color: var(--blush); margin-bottom: 16px;
    text-shadow: 0 0 40px rgba(200,16,46,0.7);
  }
  .celeb-sub {
    font-style: italic; font-size: 18px;
    color: rgba(247,202,201,0.65); letter-spacing: 2px;
    text-align: center; max-width: 360px; line-height: 1.9;
  }

  /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     STARS
  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
  .star {
    position: fixed; pointer-events: none; z-index: 0;
    border-radius: 50%; background: white;
    animation: tw var(--d) ease-in-out infinite;
  }
  @keyframes tw { 0%,100%{opacity:0.08} 50%{opacity:0.55} }
</style>
</head>
<body>

<!-- MUSIC (royalty-free looping piano from CDN) -->
<audio id="bgMusic" loop>
  <!-- Royalty-free ambient piano piece via public domain source -->
  <source src="https://www.soundjay.com/misc/sounds/bell-ringing-05.mp3" type="audio/mpeg">
</audio>

<canvas id="canvas"></canvas>

<!-- Music toggle button -->
<div id="musicBtn" onclick="toggleMusic()" title="Toggle music">ğŸµ</div>

<!-- MAIN STAGE -->
<div class="stage">

  <!-- ENVELOPE (visible at start) -->
  <div id="envelope" onclick="openEnvelope()">
    <div class="env-base"></div>
    <div class="env-flap" id="flap"></div>
    <div class="env-seal" id="seal">ğŸ’Œ</div>
  </div>

  <!-- LETTER (hidden at start, shown after envelope disappears) -->
  <div id="letter">
    <div class="letter-ruled"></div>
    <div class="letter-content">
      <div class="letter-date">February 18, 2025 &nbsp;Â·&nbsp;My First Confession</div>
      <div class="letter-salutation">Scella Meey</div>
      <div class="letter-body">
        Thank you sa pag click sa link hehehe pero, By the way i want you to read this carefully char hahaha pero bitaw uy gusto lng nako mag first move sa ling aning paraan, kay diko ganahan mag first move mag sugod sa â€œHi, Hello, Ako diay si anoâ€¦ â€œkay pang old school na gusto ko kanang naa juy pagka effort ğŸ¤£ğŸ¤£, kini nga message is para lng jd sa imo and actually ghe ganahan ko sa imong tingog ayy tung pag call ninyo ni dodong hahaha kato lng and gusto pa nako tika maka ila jd wakoy mabuhat kay gikan mn ghe reto ni dodong gd hahahah. So mau lng to ug Salamat sa oras nga pag basa ani.  â€”
        <span style="color:var(--rose);font-style:normal;font-weight:600">Have a Nice Day</span>
      </div>
    </div>
  </div>

</div>

<!-- PROMPT -->
<div id="prompt">âœ¦ tap to open âœ¦</div>

<!-- BUTTONS -->
<div id="buttons">
  <button class="btn btn-yes" onclick="sayYes()">Yes, of course! ğŸ’—</button>
  <button class="btn btn-no" id="noBtn" onmouseover="runAway()" onclick="runAway()">Maybe notâ€¦</button>
</div>

<!-- CELEBRATION -->
<div id="celebration">
  <div class="big-heart">â¤ï¸</div>
  <div class="celeb-title">You said Yes!</div>

  <!-- YOUR PICTURE HERE -->
  <div class="celeb-photo">
    <img src="Memecat.jfif" alt="Us" />
  </div>

  <div class="celeb-sub">
    Thank you The END.....<br><br>
    Credit: Rony Borja<br>
  </div>
</div>

<script>
/* â”€â”€ STARS â”€â”€ */
for (let i = 0; i < 50; i++) {
  const s = document.createElement('div');
  s.className = 'star';
  const sz = Math.random() * 2 + 0.5;
  s.style.cssText = `width:${sz}px;height:${sz}px;top:${Math.random()*100}%;left:${Math.random()*100}%;--d:${2+Math.random()*5}s;animation-delay:${Math.random()*6}s`;
  document.body.appendChild(s);
}

/* â”€â”€ PETALS CANVAS â”€â”€ */
const cv = document.getElementById('canvas');
const cx = cv.getContext('2d');
function resize() { cv.width = innerWidth; cv.height = innerHeight; }
resize(); addEventListener('resize', resize);

const COLORS = ['#c8102e','#e03050','#f7cac9','#f4b0b0','#ff7096','#ffc0cb'];
const petals = Array.from({length: 35}, () => mkP(false));

function mkP(top) {
  return {
    x: Math.random() * cv.width,
    y: top ? -20 : Math.random() * cv.height,
    r: Math.random() * 8 + 3,
    col: COLORS[Math.random()*COLORS.length|0],
    vx: (Math.random()-.5) * .7,
    vy: Math.random() * 1.0 + .35,
    rot: Math.random()*Math.PI*2,
    rv: (Math.random()-.5)*.035,
    op: Math.random()*.5+.15,
    w: Math.random()*Math.PI*2,
    ws: .012+Math.random()*.01
  };
}

function drawP(p) {
  cx.save();
  cx.translate(p.x,p.y); cx.rotate(p.rot);
  cx.globalAlpha = p.op; cx.fillStyle = p.col;
  cx.beginPath();
  cx.moveTo(0,-p.r);
  cx.bezierCurveTo(p.r*.8,-p.r*.8, p.r,p.r*.3, 0,p.r);
  cx.bezierCurveTo(-p.r*.8,p.r*.3, -p.r*.8,-p.r*.8, 0,-p.r);
  cx.fill(); cx.restore();
}

(function loop(){
  cx.clearRect(0,0,cv.width,cv.height);
  petals.forEach(p=>{
    p.w+=p.ws; p.x+=p.vx+Math.sin(p.w)*.4; p.y+=p.vy; p.rot+=p.rv;
    if(p.y>cv.height+20) Object.assign(p,mkP(true));
    drawP(p);
  });
  requestAnimationFrame(loop);
})();

function burst(){
  for(let i=0;i<28;i++) petals.push({
    x:cv.width/2, y:cv.height/2,
    r:Math.random()*11+4,
    col:COLORS[Math.random()*COLORS.length|0],
    vx:(Math.random()-.5)*10, vy:(Math.random()-.5)*10-4,
    rot:Math.random()*Math.PI*2, rv:(Math.random()-.5)*.12,
    op:.9, w:0, ws:.02
  });
}

/* â”€â”€ MUSIC â”€â”€ */
let musicOn = false;
const music = document.getElementById('bgMusic');

// Generate a simple looping tone using Web Audio API as fallback
let audioCtx, gainNode, osc1, osc2;

function initAudio() {
  if (audioCtx) return;
  audioCtx = new (window.AudioContext || window.webkitAudioContext)();

  // Create a gentle romantic chord (E minor arpeggio-ish)
  gainNode = audioCtx.createGain();
  gainNode.gain.value = 0;
  gainNode.connect(audioCtx.destination);

  // We'll play gentle sine tones in sequence
  playMelody();
}

const notes = [
  329.63, // E4
  392.00, // G4
  493.88, // B4
  523.25, // C5
  587.33, // D5
  659.25, // E5
  587.33,
  523.25,
  493.88,
  392.00,
];

let noteIdx = 0;
let melodyTimeout;

function playMelody() {
  if (!musicOn || !audioCtx) return;

  const freq = notes[noteIdx % notes.length];
  noteIdx++;

  const osc = audioCtx.createOscillator();
  const env = audioCtx.createGain();

  osc.type = 'sine';
  osc.frequency.value = freq;
  osc.connect(env);
  env.connect(gainNode);

  const now = audioCtx.currentTime;
  env.gain.setValueAtTime(0, now);
  env.gain.linearRampToValueAtTime(0.18, now + 0.08);
  env.gain.exponentialRampToValueAtTime(0.001, now + 1.2);

  osc.start(now);
  osc.stop(now + 1.3);

  melodyTimeout = setTimeout(playMelody, 520);
}

function toggleMusic() {
  initAudio();
  musicOn = !musicOn;
  const btn = document.getElementById('musicBtn');

  if (musicOn) {
    if (audioCtx.state === 'suspended') audioCtx.resume();
    gainNode.gain.setValueAtTime(gainNode.gain.value, audioCtx.currentTime);
    gainNode.gain.linearRampToValueAtTime(1, audioCtx.currentTime + 0.5);
    playMelody();
    btn.textContent = 'ğŸ¶';
    btn.classList.add('playing');
  } else {
    clearTimeout(melodyTimeout);
    gainNode.gain.linearRampToValueAtTime(0, audioCtx.currentTime + 0.5);
    btn.textContent = 'ğŸµ';
    btn.classList.remove('playing');
  }
}

/* â”€â”€ OPEN ENVELOPE â”€â”€ */
let opened = false;
function openEnvelope() {
  if (opened) return;
  opened = true;

  // Start music automatically on interaction
  if (!musicOn) toggleMusic();

  const seal  = document.getElementById('seal');
  const flap  = document.getElementById('flap');
  const env   = document.getElementById('envelope');
  const letter= document.getElementById('letter');
  const prompt= document.getElementById('prompt');

  prompt.style.opacity = '0';

  // 1. Seal disappears
  seal.classList.add('gone');

  // 2. Flap opens
  setTimeout(() => flap.classList.add('open'), 200);

  // 3. Envelope fades away
  setTimeout(() => env.classList.add('gone'), 900);

  // 4. Letter fades in â€” clean, no overlap
  setTimeout(() => letter.classList.add('visible'), 1100);

  // 5. Show buttons
  setTimeout(() => document.getElementById('buttons').classList.add('show'), 2000);
}

/* â”€â”€ YES â”€â”€ */
function sayYes() {
  document.getElementById('buttons').style.opacity = '0';
  setTimeout(() => {
    document.getElementById('celebration').classList.add('show');
    burst();
    for(let i=1;i<7;i++) setTimeout(burst, i*350);
  }, 400);
}

/* â”€â”€ NO (runs away) â”€â”€ */
let noCnt = 0;
function runAway() {
  noCnt++;
  const btn = document.getElementById('noBtn');
  const rx = (Math.random()-.5)*420;
  const ry = (Math.random()-.5)*260;
  btn.style.transform = `translate(${rx}px,${ry}px)`;
  if(noCnt >= 5){ btn.style.opacity='0'; btn.style.pointerEvents='none'; }
}
</script>
</body>

</html>

